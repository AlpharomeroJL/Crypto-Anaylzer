# Research ↔ repo mapping

**Purpose:** Map each research mechanism to pipeline stage(s), status, required changes, new interfaces, tests, and acceptance criteria.  
**Canonical spec:** [../master_architecture_spec.md](../master_architecture_spec.md)

---

## Research ↔ repo mapping table

| Research Mechanism | Pipeline Stage(s) | Status (present/partial/missing/incompatible) | Required Changes | New Interfaces | Tests | Acceptance Criteria |
| :---- | :---- | :---- | :---- | :---- | :---- | :---- |
| Formal "validation bundle" artifact contract (IC series, decay, stability, CIs, etc.) | Validation → Reporting | **Partial** (IC/decay exist; reporting exists, but bundles aren't fully standardized across all signals) | Refactor: create ValidationBundle dataclass + one writer; ensure every signal path produces same artifact schema | SignalValidator, ArtifactWriter | Unit: schema validation; Integration: reportv2 emits bundle for each signal | Bundle JSON contains required fields; hashes stable across re-run |
| Multiple testing control (BH/BY FDR; adjusted p-values) | Stats Corrections | **Missing** (warnings only; no p-value correction pipeline) | New module multiple_testing_control.py; extend experiment metrics with adjusted p-values per family | MultipleTestingAdjuster | Unit: BH/BY correctness on known examples | q=5% family: discoveries reproducible; no unadjusted-only promotion |
| White Reality Check / Romano–Wolf style "data snooping" correction | Stats Corrections | **Present** (RC + RW implemented; RW opt-in via CRYPTO_ANALYZER_ENABLE_ROMANOWOLF=1). See [methods_and_limits.md](../../methods_and_limits.md) §9. | — | RealityCheck | test_reality_check_deterministic, test_reportv2_reality_check_optional | Under null suite: <5% false-positive rate after correction |
| Dependency-aware bootstrap (stationary bootstrap option) | Stats Corrections | **Partial** (fixed block bootstrap exists) | Add stationary bootstrap; add rule for block length selection; store bootstrap seed + method in artifacts | Bootstrapper | Unit: stationary bootstrap preserves marginal distribution; Integration: CI changes with seed | CI width stable; deterministic with fixed seed |
| Execution realism: explicit spread model | Execution Realism | **Missing** (cost model = fee + slippage bps; backtest uses liquidity proxy) | Add spread_bps estimator; unify cost logic across portfolio.py and cli/backtest.py | ExecutionCostModel | Unit: spread cost applied on turnover; Integration: backtest changes as expected | Performance reported both gross and net; spread widens in risk-off regime |
| Execution realism: size-dependent impact / participation constraint | Execution Realism → Optimizer | **Partial** (heuristic liquidity slippage + optional caps) | Create impact model based on trade_notional / ADV proxy; enforce max participation per bar; integrate in optimizer constraints and simulator | MarketImpactModel | Unit: impact increases with participation; Integration: capacity curve | At 5× notional, Sharpe degrades monotonically; capacity metrics emitted |
| Latency / stale-signal modeling | Execution Realism → Walk-forward | **Missing** | Add signal_lag_bars in evaluation; enforce execution at t+lag; include in "promotion criteria" | LatencyModel | Integration: lag=0 vs lag>0 regression test | Accepted signals must retain IC above threshold at lag=1–3 |
| Statistical regime modeling (ARCH/GARCH or Markov switching) | Regime Models | **Missing** (current regimes are deterministic rules) | Add regime estimators with train-only fitting + test-time filtering; persist regime probabilities | RegimeDetector | Unit: causal filtering (no future state); Integration: regime-conditioned metrics | Regime-conditioned IC differences persist OOS |
| Dynamic beta (state-space / Kalman) replacing rolling OLS betas | Factors | **Missing** (rolling OLS exists) | Add optional KalmanBeta model; **must** run causally per fold; provide uncertainty bands | DynamicBetaEstimator | Unit: synthetic data recovers time-varying beta | OOS residuals reduce factor exposure vs rolling OLS baseline |
| Leakage hardening of residual signals | Factors → Signals → Validation | **Incompatible (as implemented)**: signal_residual_momentum_24h uses full-sample OLS betas (lookahead) | Replace with rolling betas (or fit-on-train/apply-on-test) residualization; add explicit "as_of" convention | Residualizer | Unit: "future leak sentinel" dataset; Integration: walk-forward leakage test | Any attempt to compute residual betas using future data fails CI gate |
| Parameter sweeps with registry + corrected inference | Reporting → Stats Corrections | **Partial** (smoke sensitivity exists, but no full sweep registry nor correction) | Build sweep runner writing to experiment registry; requires explicit "test family" labeling for correction | SweepRunner | Integration: sweep writes N runs; correction computed over family | A "candidate signal" must survive correction across sweep family |
| Correlation network topology regime/features | Signals → Regime Models | **Partial** (correlation matrices exist, not networks) | Add network metrics (MST weight, clustering proxy, centrality); store as features | NetworkFeatures | Unit: known small correlation matrices | Network regime feature stable; doesn't break with missing assets |
